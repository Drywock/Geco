<html data-mustache="results_splits">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
{{#geco_AutoRefresh?}}
    <meta http-equiv="refresh" content="{{geco_RefreshInterval}}">
{{/geco_AutoRefresh?}}
  </head>
  <body>
    <h1>{{geco_StageTitle}} - {{i18n_SplitsTitle}}</h1>
	  <div id="gecoResults"></div>
	<script id="gecoOrienteeringResults" type="text/javascript">
    var gecoOrienteeringResults = {
"version": 1,
"circuits": [{{#geco_ResultsCollection}}{
"description":"{{geco_ResultName}} ({{geco_NbFinishedRunners}}/{{geco_NbPresentRunners}}) - {{geco_CourseLength}}m, {{geco_CourseClimb}}m",
{{#geco_SingleCourse?}}"controls":[{{#geco_CourseControls}}{{geco_ControlCode}},{{/geco_CourseControls}}],{{/geco_SingleCourse?}}
"finishingRunnersCount":{{geco_NbFinishedRunners}},"presentRunnersCount":{{geco_NbPresentRunners}},
"rankedRunners": [{{#geco_RankedRunners}}{
"rank":"{{geco_RunnerRank}}","status":"{{geco_RunnerStatus}}","firstname":"{{geco_RunnerFirstName}}","lastname":"{{geco_RunnerLastName}}","category":"{{geco_RunnerCategory}}","club":"{{geco_RunnerClubName}}",
"splitTimes":[{{#geco_RunnerSplits}}{{geco_SplitTimeMs}},{{/geco_RunnerSplits}}],
"cumulatedTimes":[{{#geco_RunnerSplits}}{{geco_ControlTimeMs}},{{/geco_RunnerSplits}}]},
{{/geco_RankedRunners}}]},
{{/geco_ResultsCollection}}]};
    window.addEventListener("message", function(event) {
      // We only accept messages from ourselves
      if (event.source != window)
        return;
      if(event.data.cmd==='getJson'){
        window.postMessage({cmd:'jsonResponse', data:gecoOrienteeringResults}, '*');
      }
    }, false);
	</script>
  </body>
</html>
